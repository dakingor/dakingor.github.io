(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{174:function(s,t,a){"use strict";a.r(t);var n=a(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"代理模式（proxy-pattern）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#代理模式（proxy-pattern）","aria-hidden":"true"}},[s._v("#")]),s._v(" 代理模式（Proxy Pattern）")]),s._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#定义"}},[s._v("定义")])]),a("li",[a("a",{attrs:{href:"#使用场景"}},[s._v("使用场景")])]),a("li",[a("a",{attrs:{href:"#uml类图"}},[s._v("UML类图")])]),a("li",[a("a",{attrs:{href:"#代理模式的常见实现"}},[s._v("代理模式的常见实现")])]),a("li",[a("a",{attrs:{href:"#代理模式的分类"}},[s._v("代理模式的分类")])])])]),a("p"),s._v(" "),a("h2",{attrs:{id:"定义"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#定义","aria-hidden":"true"}},[s._v("#")]),s._v(" 定义")]),s._v(" "),a("p",[s._v("为其他对象提供一种代理以控制对这个对象的访问。")]),s._v(" "),a("h2",{attrs:{id:"使用场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用场景","aria-hidden":"true"}},[s._v("#")]),s._v(" 使用场景")]),s._v(" "),a("p",[s._v("当某个对象无法被直接访问或直接访问存在困难时，可以通过一个代理对象来间接访问此委托对象。为了保证客户端调用的透明性，被委托对象与代理对象需要实现相同的接口。")]),s._v(" "),a("h2",{attrs:{id:"uml类图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#uml类图","aria-hidden":"true"}},[s._v("#")]),s._v(" UML类图")]),s._v(" "),a("p",[a("img",{attrs:{src:"/15220291017726/15220313970652.jpg",alt:"代理模式-w554"}})]),s._v(" "),a("p",[s._v("Subject：抽象主题类。")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("此类的主要职责是声明真实主题与代理主题的共同接口方法。")])]),s._v(" "),a("li",[a("p",[s._v("此类可以是接口或抽象类。")])])]),s._v(" "),a("p",[s._v("RealSubject：真实主题类。")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("此类也被称为被委托类或被代理类。")])]),s._v(" "),a("li",[a("p",[s._v("此类定义了代理所表示的真实对象，由其执行具体的业务逻辑方法，而客户类则通过代理类间接地调用这个真实对象中的方法。")])])]),s._v(" "),a("p",[s._v("ProxySubject：代理主题类。")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("此类也被称为委托类或代理类。")])]),s._v(" "),a("li",[a("p",[s._v("此类持有一个对真实主题类对象的引用。在其所实现的接口方法中调用真实主题类对象中相应的接口方法来执行，以起到代理的作用。")])])]),s._v(" "),a("h2",{attrs:{id:"代理模式的常见实现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#代理模式的常见实现","aria-hidden":"true"}},[s._v("#")]),s._v(" 代理模式的常见实现")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{attrs:{class:"token comment"}},[s._v("/** 抽象主题 */")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),a("span",{attrs:{class:"token class-name"}},[s._v("Subject")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("visit")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{attrs:{class:"token comment"}},[s._v("/** 真实主题 */")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{attrs:{class:"token class-name"}},[s._v("RealSubject")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),a("span",{attrs:{class:"token class-name"}},[s._v("Subject")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    \n    "),a("span",{attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("visit")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{attrs:{class:"token comment"}},[s._v("/** 代理主题 */")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{attrs:{class:"token class-name"}},[s._v("ProxySubject")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),a("span",{attrs:{class:"token class-name"}},[s._v("Subject")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{attrs:{class:"token keyword"}},[s._v("private")]),s._v(" Subject subject"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    \n    "),a("span",{attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("ProxySubject")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Subject subject"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{attrs:{class:"token keyword"}},[s._v("this")]),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subject "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" subject"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    \n    "),a("span",{attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("visit")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        subject"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{attrs:{class:"token function"}},[s._v("visit")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{attrs:{class:"token comment"}},[s._v("/** Client */")]),s._v("\nSubject realSubject "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{attrs:{class:"token class-name"}},[s._v("RealSubject")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nSubject proxySubject "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{attrs:{class:"token class-name"}},[s._v("ProxySubject")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("realSubject"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nproxySubject"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{attrs:{class:"token function"}},[s._v("visit")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h2",{attrs:{id:"代理模式的分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#代理模式的分类","aria-hidden":"true"}},[s._v("#")]),s._v(" 代理模式的分类")]),s._v(" "),a("p",[s._v("代理模式可分为"),a("strong",[s._v("静态代理")]),s._v("和"),a("strong",[s._v("动态代理")]),s._v("。")]),s._v(" "),a("p",[s._v("静态代理就像上述示例那样，代理者的代码由开发者自己或通过一些自动化工具生成固定的代码，再对其进行编译。即在代码运行前，代理类的class编译文件就已存在。")]),s._v(" "),a("p",[s._v("动态代理是在运行时动态构建代理、动态处理代理方法调用的机制，即在code阶段不需要知道代理谁，代理谁将会在代码运行阶段才决定。")])])}],!1,null,null,null);e.options.__file="代理模式（Proxy Pattern）.md";t.default=e.exports}}]);