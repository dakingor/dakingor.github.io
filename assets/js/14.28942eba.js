(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{158:function(a,t,s){"use strict";s.r(t);var e=s(0),n=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"broadcastreceiver"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#broadcastreceiver","aria-hidden":"true"}},[a._v("#")]),a._v(" BroadcastReceiver")]),a._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#broadcastreceiver"}},[a._v("BroadcastReceiver")])]),s("li",[s("a",{attrs:{href:"#broadcastreceiver注册方式"}},[a._v("BroadcastReceiver注册方式")]),s("ul",[s("li",[s("a",{attrs:{href:"#静态注册"}},[a._v("静态注册")])]),s("li",[s("a",{attrs:{href:"#动态注册"}},[a._v("动态注册")])])])]),s("li",[s("a",{attrs:{href:"#发送广播"}},[a._v("发送广播")]),s("ul",[s("li",[s("a",{attrs:{href:"#发送标准广播"}},[a._v("发送标准广播")])]),s("li",[s("a",{attrs:{href:"#发送有序广播"}},[a._v("发送有序广播")])])])]),s("li",[s("a",{attrs:{href:"#broadcastreceiver生命周期"}},[a._v("BroadcastReceiver生命周期")]),s("ul",[s("li",[s("a",{attrs:{href:"#静态注册的broadcastreceiver"}},[a._v("静态注册的BroadcastReceiver")])]),s("li",[s("a",{attrs:{href:"#动态注册的broadcastreceiver"}},[a._v("动态注册的BroadcastReceiver")])])])]),s("li",[s("a",{attrs:{href:"#广播的权限限制"}},[a._v("广播的权限限制")]),s("ul",[s("li",[s("a",{attrs:{href:"#限制接收方"}},[a._v("限制接收方")])]),s("li",[s("a",{attrs:{href:"#限制发送方"}},[a._v("限制发送方")])])])])])]),s("p"),a._v(" "),s("h2",{attrs:{id:"broadcastreceiver-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#broadcastreceiver-2","aria-hidden":"true"}},[a._v("#")]),a._v(" BroadcastReceiver")]),a._v(" "),s("p",[a._v("继承BroadcastReceiver来创建一个广播接收器。")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),s("span",{attrs:{class:"token class-name"}},[a._v("MyReceiver")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("extends")]),a._v(" "),s("span",{attrs:{class:"token class-name"}},[a._v("BroadcastReceiver")]),a._v(" "),s("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    \n    "),s("span",{attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("static")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("final")]),a._v(" String ACTION "),s("span",{attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{attrs:{class:"token string"}},[a._v('"com.daking.app.broadcast.MyReceiver"')]),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    \n    "),s("span",{attrs:{class:"token annotation punctuation"}},[a._v("@Override")]),a._v("\n    "),s("span",{attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),s("span",{attrs:{class:"token function"}},[a._v("onReceive")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Context context"),s("span",{attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" Intent intent"),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),s("span",{attrs:{class:"token comment"}},[a._v("// 处理广播")]),a._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),s("span",{attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br")])]),s("h2",{attrs:{id:"broadcastreceiver注册方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#broadcastreceiver注册方式","aria-hidden":"true"}},[a._v("#")]),a._v(" BroadcastReceiver注册方式")]),a._v(" "),s("p",[a._v("BroadcastReceiver有两种注册方式：静态注册和动态注册。")]),a._v(" "),s("h3",{attrs:{id:"静态注册"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#静态注册","aria-hidden":"true"}},[a._v("#")]),a._v(" 静态注册")]),a._v(" "),s("p",[a._v("在AndroidManifest.xml中使用"),s("code",[a._v("<receiver>")]),a._v("标签来静态注册BroadcastReceiver。")]),a._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("<")]),a._v("receiver")]),a._v("\n    "),s("span",{attrs:{class:"token attr-name"}},[s("span",{attrs:{class:"token namespace"}},[a._v("android:")]),a._v("name")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{attrs:{class:"token punctuation"}},[a._v('"')]),a._v(".receiver.MyReceiver"),s("span",{attrs:{class:"token punctuation"}},[a._v('"')])]),a._v("\n    "),s("span",{attrs:{class:"token attr-name"}},[s("span",{attrs:{class:"token namespace"}},[a._v("android:")]),a._v("enabled")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{attrs:{class:"token punctuation"}},[a._v('"')]),a._v("true"),s("span",{attrs:{class:"token punctuation"}},[a._v('"')])]),a._v("\n    "),s("span",{attrs:{class:"token attr-name"}},[s("span",{attrs:{class:"token namespace"}},[a._v("android:")]),a._v("exported")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{attrs:{class:"token punctuation"}},[a._v('"')]),a._v("true"),s("span",{attrs:{class:"token punctuation"}},[a._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("<")]),a._v("intent-filter")]),s("span",{attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("<")]),a._v("action")]),a._v(" "),s("span",{attrs:{class:"token attr-name"}},[s("span",{attrs:{class:"token namespace"}},[a._v("android:")]),a._v("name")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{attrs:{class:"token punctuation"}},[a._v('"')]),a._v("com.daking.app.broadcast.MyReceiver"),s("span",{attrs:{class:"token punctuation"}},[a._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[a._v("/>")])]),a._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("</")]),a._v("intent-filter")]),s("span",{attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("</")]),a._v("receiver")]),s("span",{attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br")])]),s("p",[a._v("静态注册的BroadcastReceiver可在Android程序未启动的情况下监听到广播。")]),a._v(" "),s("h3",{attrs:{id:"动态注册"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#动态注册","aria-hidden":"true"}},[a._v("#")]),a._v(" 动态注册")]),a._v(" "),s("p",[a._v("使用"),s("code",[a._v("Context#registerReceiver()")]),a._v("来动态注册BroadcastReceiver。")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("MyReceiver myReceiver "),s("span",{attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),s("span",{attrs:{class:"token class-name"}},[a._v("MyReceiver")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\ncontext"),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{attrs:{class:"token function"}},[a._v("registerReceiver")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),a._v("myReceiver"),s("span",{attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),s("span",{attrs:{class:"token class-name"}},[a._v("IntentFilter")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),a._v("MyReceiver"),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),a._v("ACTION"),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("p",[a._v("使用"),s("code",[a._v("Context#unregisterReceiver()")]),a._v("来动态注销BroadcastReceiver。")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("context"),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{attrs:{class:"token function"}},[a._v("unregisterReceiver")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),a._v("myReceiver"),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("动态注册的BroadcastReceiver必须要Android程序已启动，而且调用代码进行注册后，方可监听到广播。")]),a._v(" "),s("p",[a._v("动态注册的BroadcastReceiver切记要在不再使用时进行注销。一般在Activity的onCreate方法中动态注册，在其onDestroy方法中进行注销。")]),a._v(" "),s("h2",{attrs:{id:"发送广播"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#发送广播","aria-hidden":"true"}},[a._v("#")]),a._v(" 发送广播")]),a._v(" "),s("h3",{attrs:{id:"发送标准广播"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#发送标准广播","aria-hidden":"true"}},[a._v("#")]),a._v(" 发送标准广播")]),a._v(" "),s("p",[a._v("使用"),s("code",[a._v("Context#sendBroadcast(Intent)")]),a._v("来发送一个标准广播。")]),a._v(" "),s("p",[a._v("标准广播是异步执行的广播。广播发出后，所有BroadcastReceiver几乎会在同一时刻收到。")]),a._v(" "),s("h3",{attrs:{id:"发送有序广播"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#发送有序广播","aria-hidden":"true"}},[a._v("#")]),a._v(" 发送有序广播")]),a._v(" "),s("p",[a._v("使用"),s("code",[a._v("Context#sendOrderedBroadcast(Intent)")]),a._v("来发送一个有序广播。")]),a._v(" "),s("p",[a._v("有序广播是同步执行的广播。广播发出后，同一时间只有一个BroadcastReceiver能收到，当它处理完后，下一个BroadcastReceiver才能收到此广播。")]),a._v(" "),s("p",[a._v("在AndroidManifest.xml中对应的"),s("code",[a._v("<receiver>")]),a._v("上使用"),s("code",[a._v("android:priority")]),a._v("属性来设置BroadcastReceiver的优先级，值越大则优先级越高，越先收到广播。")]),a._v(" "),s("p",[a._v("可在BroadcastReceiver中调用"),s("code",[a._v("abortBroadcast()")]),a._v("来截断广播，之后的BroadcastReceiver就不会接收到此广播。")]),a._v(" "),s("h2",{attrs:{id:"broadcastreceiver生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#broadcastreceiver生命周期","aria-hidden":"true"}},[a._v("#")]),a._v(" BroadcastReceiver生命周期")]),a._v(" "),s("h3",{attrs:{id:"静态注册的broadcastreceiver"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#静态注册的broadcastreceiver","aria-hidden":"true"}},[a._v("#")]),a._v(" 静态注册的BroadcastReceiver")]),a._v(" "),s("p",[a._v("静态注册的BroadcastReceiver，每收到一个广播，都会创建一个新的BroadcastReceiver对象。")]),a._v(" "),s("p",[a._v("该BroadcastReceiver对象只会在其"),s("code",[a._v("onReceive(Context, Intent)")]),a._v("方法被调用的期间有效，一旦onReceive方法执行完并返回值，该对象就变成不活跃的，而且会在任意时间段内被系统销毁。")]),a._v(" "),s("p",[a._v("该BroadcastReceiver对象的onReceive方法是在主线程中执行的，不能进行耗时操作。也不建议在此方法中开启子线程，因为静态注册的BroadcastReceiver对象的生命周期很短。")]),a._v(" "),s("h3",{attrs:{id:"动态注册的broadcastreceiver"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#动态注册的broadcastreceiver","aria-hidden":"true"}},[a._v("#")]),a._v(" 动态注册的BroadcastReceiver")]),a._v(" "),s("p",[a._v("动态注册的BroadcastReceiver，每收到一个广播，都会调用"),s("code",[a._v("Context#registerReceiver()")]),a._v("传入的BroadcastReceiver对象的onReceive方法。")]),a._v(" "),s("p",[a._v("该BroadcastReceiver对象需要通过"),s("code",[a._v("Context#unregisterReceiver()")]),a._v("来注销。为了防止泄露，在注册它的Activity等组件销毁时，必须对它进行注销。")]),a._v(" "),s("p",[a._v("该BroadcastReceiver对象的onReceive方法执行在调用"),s("code",[a._v("Context#registerReceiver()")]),a._v("的线程环境中。")]),a._v(" "),s("h2",{attrs:{id:"广播的权限限制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#广播的权限限制","aria-hidden":"true"}},[a._v("#")]),a._v(" 广播的权限限制")]),a._v(" "),s("p",[a._v("在讨论广播的权限限制问题时，将发送广播的Android应用称为"),s("strong",[a._v("发送方")]),a._v("，而接收广播的Android应用称为"),s("strong",[a._v("接收方")]),a._v("。")]),a._v(" "),s("h3",{attrs:{id:"限制接收方"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#限制接收方","aria-hidden":"true"}},[a._v("#")]),a._v(" 限制接收方")]),a._v(" "),s("p",[a._v("限制接收方的原理是：广播中携带一个自定义的权限声明，只有添加了该权限的Android应用才能接收此广播。")]),a._v(" "),s("p",[a._v("首先，在发送方的AndroidManifest.xml中声明一个自定义的权限，用于表明接收方所需的权限。")]),a._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("<")]),a._v("permission")]),a._v(" "),s("span",{attrs:{class:"token attr-name"}},[s("span",{attrs:{class:"token namespace"}},[a._v("android:")]),a._v("name")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{attrs:{class:"token punctuation"}},[a._v('"')]),a._v("com.daking.broadcast.permission.MY_RECEIVE_PERMISSION"),s("span",{attrs:{class:"token punctuation"}},[a._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[a._v("/>")])]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("接着，发送方在发送广播时要携带上面的自定义权限。")]),a._v(" "),s("p",[a._v("最后，在接收方的AndroidManifest.xml中添加对应的自定义权限声明。")]),a._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("<")]),a._v("users-permission")]),a._v("\n    "),s("span",{attrs:{class:"token attr-name"}},[s("span",{attrs:{class:"token namespace"}},[a._v("android:")]),a._v("name")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{attrs:{class:"token punctuation"}},[a._v('"')]),a._v("com.daking.broadcast.permission.MY_RECEIVE_PERMISSION"),s("span",{attrs:{class:"token punctuation"}},[a._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[a._v("/>")])]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h3",{attrs:{id:"限制发送方"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#限制发送方","aria-hidden":"true"}},[a._v("#")]),a._v(" 限制发送方")]),a._v(" "),s("p",[a._v("限制发送方的原理是：在"),s("code",[a._v("<receiver>")]),a._v("中添加一个自定义的广播发送权限，只有添加该权限的Android应用才能给该BroadcastReceiver发送广播。")]),a._v(" "),s("p",[a._v("首先，在接收方的AndroidManifest.xml中声明一个自定义的权限，用于表明发送方所需的权限。")]),a._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("<")]),a._v("permission")]),a._v(" "),s("span",{attrs:{class:"token attr-name"}},[s("span",{attrs:{class:"token namespace"}},[a._v("android:")]),a._v("name")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{attrs:{class:"token punctuation"}},[a._v('"')]),a._v("com.daking.broadcast.permission.MY_SEND_PERMISSION"),s("span",{attrs:{class:"token punctuation"}},[a._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[a._v("/>")])]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("接着，在接收方的AndroidManifest.xml中为需要保护的"),s("code",[a._v("<receiver>")]),a._v("使用"),s("code",[a._v("android:permission")]),a._v("添加所需的自定义权限声明。")]),a._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("<")]),a._v("receiver")]),a._v(" \n    "),s("span",{attrs:{class:"token attr-name"}},[s("span",{attrs:{class:"token namespace"}},[a._v("android:")]),a._v("name")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{attrs:{class:"token punctuation"}},[a._v('"')]),a._v(".XXXReceiver"),s("span",{attrs:{class:"token punctuation"}},[a._v('"')])]),a._v("\n    "),s("span",{attrs:{class:"token attr-name"}},[s("span",{attrs:{class:"token namespace"}},[a._v("android:")]),a._v("permission")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{attrs:{class:"token punctuation"}},[a._v('"')]),a._v("com.daking.broadcast.permission.MY_SEND_PERMISSION"),s("span",{attrs:{class:"token punctuation"}},[a._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("p",[a._v("最后，在发送方的AndroidManifest.xml中添加对应的自定义权限声明。")]),a._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("<")]),a._v("users-permission")]),a._v("\n    "),s("span",{attrs:{class:"token attr-name"}},[s("span",{attrs:{class:"token namespace"}},[a._v("android:")]),a._v("name")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{attrs:{class:"token punctuation"}},[a._v('"')]),a._v("com.daking.broadcast.permission.MY_SEND_PERMISSION"),s("span",{attrs:{class:"token punctuation"}},[a._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[a._v("/>")])]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])])])}],!1,null,null,null);n.options.__file="BroadcastReceiver.md";t.default=n.exports}}]);