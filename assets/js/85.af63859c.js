(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{229:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"actuator"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#actuator","aria-hidden":"true"}},[t._v("#")]),t._v(" Actuator")]),t._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#actuator概述"}},[t._v("Actuator概述")])]),s("li",[s("a",{attrs:{href:"#actuator启动"}},[t._v("Actuator启动")])]),s("li",[s("a",{attrs:{href:"#actuator端点"}},[t._v("Actuator端点")]),s("ul",[s("li",[s("a",{attrs:{href:"#查看配置明细"}},[t._v("查看配置明细")])]),s("li",[s("a",{attrs:{href:"#运行时度量"}},[t._v("运行时度量")])]),s("li",[s("a",{attrs:{href:"#获取应用信息"}},[t._v("获取应用信息")])])])]),s("li",[s("a",{attrs:{href:"#actuator属性配置"}},[t._v("Actuator属性配置")]),s("ul",[s("li",[s("a",{attrs:{href:"#地址和端口"}},[t._v("地址和端口")])]),s("li",[s("a",{attrs:{href:"#关闭应用程序"}},[t._v("关闭应用程序")])]),s("li",[s("a",{attrs:{href:"#访问控制"}},[t._v("访问控制")])])])])])]),s("p"),t._v(" "),s("h2",{attrs:{id:"actuator概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#actuator概述","aria-hidden":"true"}},[t._v("#")]),t._v(" Actuator概述")]),t._v(" "),s("p",[t._v("Sprong Boot Actuator的关键特性是在应用程序里提供众多Web端点，通过它们可了解应用程序运行时的内部状况。")]),t._v(" "),s("h2",{attrs:{id:"actuator启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#actuator启动","aria-hidden":"true"}},[t._v("#")]),t._v(" Actuator启动")]),t._v(" "),s("p",[t._v("要启动Actuator的端点，只需在项目中引入Actuator的起步依赖。在应用程序运行时自动配置会生效，Actuator会开启。")]),t._v(" "),s("div",{staticClass:"language-gradle line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("compile 'org.springframework.boot:spring-boot-starter-actuator'\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h2",{attrs:{id:"actuator端点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#actuator端点","aria-hidden":"true"}},[t._v("#")]),t._v(" Actuator端点")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("HTTP方法")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("路径")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("GET")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("/autoconfig")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("自动配置报告，记录哪些配置条件通过了，哪些没通过。")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("GET")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("/configprops")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("描述配置属性（包含默认值）如何注入Bean。")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("GET")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("/beans")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("描述应用程序上下文里全部的Bean以及它们的关系。")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("GET")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("/dump")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("获取线程活动的快照。")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("GET")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("/env")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("获取全部环境属性。")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("GET")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("/env/{name}")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("根据名称获取特定的环境属性值。")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("GET")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("/health")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("报告应用程序的健康指标。"),s("br"),t._v("这些值由HealthIndicator实现类提供。")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("GET")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("/info")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("获取应用程序的定制信息。"),s("br"),t._v("这些信息由info前缀的属性提供。")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("GET")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("/mappings")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("描述全部的URI路径以及它们和控制器的映射关系。")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("GET")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("/metrics")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("报告各种应用程序度量信息，比如内存用量和HTTP请求计数。")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("GET")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("/metrics")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("报告指定名称的应用程序度量值。")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("POST")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("/shutdown")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("关闭应用程序。"),s("br"),t._v("要求endpoints.shutdown.enabled=true")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("GET")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("/trace")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("提供基本的HTTP请求跟踪信息，比如时间戳、HTTP头等。")])])])]),t._v(" "),s("h3",{attrs:{id:"查看配置明细"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看配置明细","aria-hidden":"true"}},[t._v("#")]),t._v(" 查看配置明细")]),t._v(" "),s("h4",{attrs:{id:"获取bean装配报告"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#获取bean装配报告","aria-hidden":"true"}},[t._v("#")]),t._v(" 获取Bean装配报告")]),t._v(" "),s("p",[s("code",[t._v("/beans")]),t._v("端点能获取Bean装配报告。")]),t._v(" "),s("p",[t._v("该报告中以JSON格式展示所有Bean，而每个Bean的信息如下：")]),t._v(" "),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v('"bean"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"readingListController"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // Spring应用程序上下文的Bean ID\n    "),s("span",{attrs:{class:"token property"}},[t._v('"aliases"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v('"scope"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"singleton"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // Bean的作用域。默认为singleton\n    "),s("span",{attrs:{class:"token property"}},[t._v('"type"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"tech.daking.readinglist.controller.ReadingListController"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // Bean的Java类型\n    "),s("span",{attrs:{class:"token property"}},[t._v('"resource"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"file [/Volumes/Daking-Archive/JavaProjects/readinglist/out/production/classes/tech/daking/readinglist/controller/ReadingListController.class]"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // .class文件的物理位置\n    "),s("span",{attrs:{class:"token property"}},[t._v('"dependencies"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{attrs:{class:"token string"}},[t._v('"readingListRepository"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{attrs:{class:"token string"}},[t._v('"customProperties"')]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" // 当前Bean注入的Bean ID列表\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("h4",{attrs:{id:"详解自动配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#详解自动配置","aria-hidden":"true"}},[t._v("#")]),t._v(" 详解自动配置")]),t._v(" "),s("p",[s("code",[t._v("/autoconfig")]),t._v("端点能获取自动配置报告，记录哪些配置条件通过了，哪些没通过。")]),t._v(" "),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v('"positiveMatches"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" // 成功匹配的自动配置\n        "),s("span",{attrs:{class:"token property"}},[t._v('"AuditAutoConfiguration#auditListener"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{attrs:{class:"token property"}},[t._v('"condition"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"OnBeanCondition"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{attrs:{class:"token property"}},[t._v('"message"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"@ConditionalOnMissingBean (types: org.springframework.boot.actuate.audit.listener.AbstractAuditListener; SearchStrategy: all) did not find any beans"')]),t._v("\n            "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        // ...\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v('"negativeMatches"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" // 匹配失败的自动配置\n        "),s("span",{attrs:{class:"token property"}},[t._v('"AuditAutoConfiguration#authenticationAuditListener"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{attrs:{class:"token property"}},[t._v('"notMatched"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),s("span",{attrs:{class:"token property"}},[t._v('"condition"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"OnClassCondition"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    "),s("span",{attrs:{class:"token property"}},[t._v('"message"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("\"@ConditionalOnClass did not find required class 'org.springframework.security.authentication.event.AbstractAuthenticationEvent'\"")]),t._v("\n                "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{attrs:{class:"token property"}},[t._v('"matched"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        // ...\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br")])]),s("h4",{attrs:{id:"查看配置属性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看配置属性","aria-hidden":"true"}},[t._v("#")]),t._v(" 查看配置属性")]),t._v(" "),s("p",[s("code",[t._v("/env")]),t._v("端点会生成应用程序可用的所有环境属性的列表（无论这些属性是否用到）。")]),t._v(" "),s("p",[t._v("此属性列表包括环境变量、 JVM属性、命令行参数，以及属性文件（"),s("code",[t._v("applicaition.properties")]),t._v("或"),s("code",[t._v("application.yml")]),t._v("）提供的属性。")]),t._v(" "),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v('"systemProperties"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" ... "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // JVM系统属性\n    "),s("span",{attrs:{class:"token property"}},[t._v('"systemEnvironment"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" ... "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // 环境变量\n    "),s("span",{attrs:{class:"token property"}},[t._v('"applicationConfig: [classpath:/application.properties]"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" ... "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // 应用属性\n    "),s("span",{attrs:{class:"token property"}},[t._v('"profiles"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v('"servletContextInitParams"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v('"server.ports"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{attrs:{class:"token property"}},[t._v('"local.management.port"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("8001")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{attrs:{class:"token property"}},[t._v('"local.server.port"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("8000")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("p",[t._v("有些属性是用来提供诸如数据库或API密码之类的"),s("strong",[t._v("敏感信息")]),t._v("，为了避免此类信息暴露，所有名为password、secret、key（或名字中最后一段是这些）的属性的值在"),s("code",[t._v("/env")]),t._v('都显示为"*"。比如'),s("code",[t._v('"database.password":"******"')]),t._v("。")]),t._v(" "),s("p",[s("code",[t._v("/env/{属性名}")]),t._v("端点能获取单个属性的值。比如"),s("code",[t._v("/evn/server.port")]),t._v("。")]),t._v(" "),s("h4",{attrs:{id:"端点到控制器的映射"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#端点到控制器的映射","aria-hidden":"true"}},[t._v("#")]),t._v(" 端点到控制器的映射")]),t._v(" "),s("p",[s("code",[t._v("/mappings")]),t._v("端点描述全部的URI路径以及它们和控制器的映射关系。")]),t._v(" "),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v('"{[/{reader}],methods=[GET]}"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" // URI以及HTTP请求方法\n        "),s("span",{attrs:{class:"token property"}},[t._v('"bean"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"requestMappingHandlerMapping"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // Spring Bean名称\n        "),s("span",{attrs:{class:"token property"}},[t._v('"method"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"public java.lang.String tech.daking.readinglist.controller.ReadingListController.readersBooks(java.lang.String,org.springframework.ui.Model)"')]),t._v(" // 映射对应方法的全限定方法签名\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    // ...\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("h3",{attrs:{id:"运行时度量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#运行时度量","aria-hidden":"true"}},[t._v("#")]),t._v(" 运行时度量")]),t._v(" "),s("h4",{attrs:{id:"查看应用程序的度量值"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看应用程序的度量值","aria-hidden":"true"}},[t._v("#")]),t._v(" 查看应用程序的度量值")]),t._v(" "),s("p",[s("code",[t._v("/metrics")]),t._v("端点提供了运行中的应用程序的度量信息。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("分类")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("前缀")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("报告内容")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("垃圾收集器")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("gc.*")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("已发生过的垃圾收集次数以及垃圾收集所耗费的时间，适用于标记-清理垃圾收集器和并行垃圾收集器（数据源自"),s("code",[t._v("java.lang.management.GarbageCollectorMXBean")]),t._v("）")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("内存")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("mem.*")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("分配给应用程序的内存数量和空闲的内存数量（数据源自"),s("code",[t._v("java.lang.Runtime")]),t._v("）")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("堆")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("heap.*")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("当前内存用量（数据源自"),s("code",[t._v("java.lang.management.MemoryUsage")]),t._v("）")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("类加载器")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("classes.*")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("JVM类加载器加载与卸载的类的数量（数据源自"),s("code",[t._v("java.lang.management.ClassLoadingMXBean")]),t._v("）")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("系统")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}}),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("processors（处理器数量，数据源自"),s("code",[t._v("java.lang.Runtime")]),t._v("）"),s("br"),t._v("uptime与instance.uptime（运行时间，数据源自"),s("code",[t._v("java.lang.management.RuntimeMXBean")]),t._v("）"),s("br"),t._v("systemload.average（平均负载，数据源自"),s("code",[t._v("java.lang.management.OperatiingSystemMXBean")]),t._v("）")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("线程池")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("threads.*")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("线程、守护线程的数量，还有JVM启动后的线程数量峰值（数据源自"),s("code",[t._v("java.lang.management.ThreadMXBean")]),t._v("）")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("数据源")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("datasource.*")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("数据源连接的数量（源自数据源的元数据，仅当Spring上下文中有DataSource Bean时才会出现此信息）")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("Tomcat会话")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("httpsessions.*")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Tomcat的活跃会话和最大会话数（数据源自嵌入式Tomcat的Bean，仅当使用嵌入式Tomcat服务器时才会出现此信息）")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("HTTP")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("counter.status.*")]),s("br"),s("code",[t._v("gauge.response.*")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("多种应用程序服务器HTTP请求的度量值与计数器")])])])]),t._v(" "),s("h4",{attrs:{id:"追踪web请求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#追踪web请求","aria-hidden":"true"}},[t._v("#")]),t._v(" 追踪Web请求")]),t._v(" "),s("p",[s("code",[t._v("/trace")]),t._v("端点能报告所有Web请求的详细信息，包括请求方法、路径、时间戳以及请求和响应的\n头信息。")]),t._v(" "),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{attrs:{class:"token property"}},[t._v('"timestamp"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("1522593084634")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{attrs:{class:"token property"}},[t._v('"info"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{attrs:{class:"token property"}},[t._v('"method"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"GET"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{attrs:{class:"token property"}},[t._v('"path"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"/style.css"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{attrs:{class:"token property"}},[t._v('"headers"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{attrs:{class:"token property"}},[t._v('"request"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),s("span",{attrs:{class:"token property"}},[t._v('"host"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"localhost:8000"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    "),s("span",{attrs:{class:"token property"}},[t._v('"connection"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"keep-alive"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    "),s("span",{attrs:{class:"token property"}},[t._v('"user-agent"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    "),s("span",{attrs:{class:"token property"}},[t._v('"accept"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"text/css,*/*;q=0.1"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    "),s("span",{attrs:{class:"token property"}},[t._v('"referer"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"http://localhost:8000/metrics"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    "),s("span",{attrs:{class:"token property"}},[t._v('"accept-encoding"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"gzip, deflate, br"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    "),s("span",{attrs:{class:"token property"}},[t._v('"accept-language"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"zh-CN,zh;q=0.9,en;q=0.8"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    "),s("span",{attrs:{class:"token property"}},[t._v('"cookie"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"Hm_lvt_2e7efe4610ceb756f1e7b756f6d3afad=1501595332; Hm_lvt_93fec8c39b4bf4ad15e147e1d62af980=1509681257; __utmz=111872281.1501595338.1.1.utmcsr=(direct)|utmccn=(direct)|utmcmd=(none); __utma=111872281.2132666550.1501595338.1509681262.1520836579.5"')]),t._v("\n                "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{attrs:{class:"token property"}},[t._v('"response"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),s("span",{attrs:{class:"token property"}},[t._v('"X-Application-Context"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"application:8000"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    "),s("span",{attrs:{class:"token property"}},[t._v('"Content-Type"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"text/html;charset=UTF-8"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    "),s("span",{attrs:{class:"token property"}},[t._v('"Content-Language"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"zh-CN"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    "),s("span",{attrs:{class:"token property"}},[t._v('"Transfer-Encoding"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"chunked"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    "),s("span",{attrs:{class:"token property"}},[t._v('"Date"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"Sun, 01 Apr 2018 14:31:24 GMT"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    "),s("span",{attrs:{class:"token property"}},[t._v('"status"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"200"')]),t._v("\n                "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{attrs:{class:"token property"}},[t._v('"timeTaken"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"8"')]),t._v("\n        "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    // ...\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br")])]),s("h4",{attrs:{id:"导出线程活动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#导出线程活动","aria-hidden":"true"}},[t._v("#")]),t._v(" 导出线程活动")]),t._v(" "),s("p",[s("code",[t._v("/dump")]),t._v("端点会生成当前线程活动的快照。")]),t._v(" "),s("h4",{attrs:{id:"应用程序的健康情况"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#应用程序的健康情况","aria-hidden":"true"}},[t._v("#")]),t._v(" 应用程序的健康情况")]),t._v(" "),s("p",[s("code",[t._v("/health")]),t._v("端点提供的信息是由一个或多个健康指示器提供的。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("健康指示器")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("键")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("报告内容")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("ApplicationHealthIndicator")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("none")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("永远为UP")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("DataSourceHealthIndicator")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("db")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("如果数据库能连上，则内容是UP和数据库类型；否则为DOWN")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("DiskSpaceHealthIndicator")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("diskSpace")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("如果可用空间大于阈值，则内容为UP和可用磁盘空间；如果空间不足则为DOWN")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("JmsHealthIndicator")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("jms")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("如果能连上消息代理，则内容为UP和JMS提供方的名称；否则为DOWN")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("MailHealthIndicator")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("mail")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("如果能连上邮件服务器，则内容为UP和邮件服务器主机和端口；否则为DOWN")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("MongoHealthIndicator")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("mongo")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("如果能连上MongoDB服务器，则内容为UP和MongoDB服务器版本；否则为DOWN")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("abbitHealthIndicator")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("rabbit")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("如果能连上RabbitMQ服务器，则内容为UP和版本号；否则为DOWN")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("RedisHealthIndicator")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("redis")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("如果能连上服务器，则内容为UP和Redis服务器版本；否则为DOWN")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("SolrHealthIndicator")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("solr")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("如果能连上Solr服务器，则内容为UP；否则为DOWN")])])])]),t._v(" "),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v('"status"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"UP"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v('"diskSpace"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{attrs:{class:"token property"}},[t._v('"status"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"UP"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{attrs:{class:"token property"}},[t._v('"total"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("255349227520")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{attrs:{class:"token property"}},[t._v('"free"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("72007000064")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{attrs:{class:"token property"}},[t._v('"threshold"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("10485760")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v('"db"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{attrs:{class:"token property"}},[t._v('"status"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"UP"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{attrs:{class:"token property"}},[t._v('"database"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"H2"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{attrs:{class:"token property"}},[t._v('"hello"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("1")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br")])]),s("h3",{attrs:{id:"获取应用信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#获取应用信息","aria-hidden":"true"}},[t._v("#")]),t._v(" 获取应用信息")]),t._v(" "),s("p",[t._v("在属性文件中定义"),s("code",[t._v("info.")]),t._v("前缀的属性。这些属性会在"),s("code",[t._v("/info")]),t._v("端点被查看到。")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("/* application.properties */\ninfo.a.name=daking\ninfo.a.age=27\ninfo.b.name=cherrence\ninfo.b.age=26\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("/* /info */\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v('"b"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{attrs:{class:"token property"}},[t._v('"age"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"26"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{attrs:{class:"token property"}},[t._v('"name"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"cherrence"')]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{attrs:{class:"token property"}},[t._v('"a"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{attrs:{class:"token property"}},[t._v('"age"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"27"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{attrs:{class:"token property"}},[t._v('"name"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"daking"')]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("h2",{attrs:{id:"actuator属性配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#actuator属性配置","aria-hidden":"true"}},[t._v("#")]),t._v(" Actuator属性配置")]),t._v(" "),s("p",[t._v("可以在属性文件中使用各种属性来定制Actuator。")]),t._v(" "),s("h3",{attrs:{id:"地址和端口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#地址和端口","aria-hidden":"true"}},[t._v("#")]),t._v(" 地址和端口")]),t._v(" "),s("p",[s("code",[t._v("management.port")]),t._v("：Actuator的访问端口默认与应用程序的服务端口一致。可通过此属性来指定Actuator的端口。比如"),s("code",[t._v("8081")]),t._v("。")]),t._v(" "),s("p",[s("code",[t._v("management.address")]),t._v("：指定地址，比如只能通过本机访问Actuator，可将此属性设置为"),s("code",[t._v("127.0.0.1")]),t._v("。")]),t._v(" "),s("h3",{attrs:{id:"关闭应用程序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#关闭应用程序","aria-hidden":"true"}},[t._v("#")]),t._v(" 关闭应用程序")]),t._v(" "),s("p",[s("code",[t._v("endpoints.shutdown.enabled")]),t._v("设置为true，"),s("code",[t._v("/shutdown")]),t._v("才会生效。")]),t._v(" "),s("h3",{attrs:{id:"访问控制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#访问控制","aria-hidden":"true"}},[t._v("#")]),t._v(" 访问控制")]),t._v(" "),s("p",[s("code",[t._v("endpoints.<端点>.sensitiv")]),t._v("：设置指定端点的敏感信息访问控制。比如"),s("code",[t._v("endpoints.mappings.sensitive=false")]),t._v("取消"),s("code",[t._v("/mappings")]),t._v("的敏感访问控制。")]),t._v(" "),s("p",[t._v("可通过"),s("code",[t._v("management.security.enabled=false")]),t._v("来关闭安全限制，就不用一个个端点进行单独设置。")]),t._v(" "),s("p",[t._v("也可以配合Spring Security对Actuator访问做细粒度控制。")])])}],!1,null,null,null);e.options.__file="Actuator.md";a.default=e.exports}}]);