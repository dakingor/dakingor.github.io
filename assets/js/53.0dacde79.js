(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{197:function(a,t,s){"use strict";s.r(t);var n=s(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"java异常"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#java异常","aria-hidden":"true"}},[a._v("#")]),a._v(" Java异常")]),a._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#异常概述"}},[a._v("异常概述")])]),s("li",[s("a",{attrs:{href:"#异常体系"}},[a._v("异常体系")])]),s("li",[s("a",{attrs:{href:"#exception-的分类"}},[a._v("Exception的分类")])]),s("li",[s("a",{attrs:{href:"#exception-常见子类"}},[a._v("Exception常见子类")]),s("ul",[s("li",[s("a",{attrs:{href:"#runtimeexception"}},[a._v("RuntimeException")])]),s("li",[s("a",{attrs:{href:"#ioexception"}},[a._v("IOException")])]),s("li",[s("a",{attrs:{href:"#classnotfoundexception"}},[a._v("ClassNotFoundException")])])])]),s("li",[s("a",{attrs:{href:"#error-常见子类"}},[a._v("Error常见子类")]),s("ul",[s("li",[s("a",{attrs:{href:"#noclassdeffounderror"}},[a._v("NoClassDefFoundError")])])])]),s("li",[s("a",{attrs:{href:"#异常抛出"}},[a._v("异常抛出")])]),s("li",[s("a",{attrs:{href:"#try-catch-finally"}},[a._v("try-catch-finally")])]),s("li",[s("a",{attrs:{href:"#try-with-resources"}},[a._v("try-with-resources")])]),s("li",[s("a",{attrs:{href:"#异常处理技巧"}},[a._v("异常处理技巧")])]),s("li",[s("a",{attrs:{href:"#自定义异常"}},[a._v("自定义异常")])]),s("li",[s("a",{attrs:{href:"#性能问题"}},[a._v("性能问题")])])])]),s("p"),a._v(" "),s("h2",{attrs:{id:"异常概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#异常概述","aria-hidden":"true"}},[a._v("#")]),a._v(" 异常概述")]),a._v(" "),s("p",[a._v("在Java中，利用面向对象的思想，将程序中的不正常情况封装成对象，以异常类的形式对问题进行描述。")]),a._v(" "),s("p",[a._v("将流程代码和异常代码进行分离，且不同的问题用不同的异常类来进行描述。")]),a._v(" "),s("h2",{attrs:{id:"异常体系"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#异常体系","aria-hidden":"true"}},[a._v("#")]),a._v(" 异常体系")]),a._v(" "),s("p",[a._v("Java程序中会出现的异常情况有很多，意味着描述这些问题的异常类也很多，将它们的共性进行向上抽取，就形成了Java异常体系。")]),a._v(" "),s("p",[a._v("Java异常体系的基本组成类型为"),s("code",[a._v("Throwable")]),a._v("，只有"),s("code",[a._v("Throwable")]),a._v("类型的实例才可以被抛出（throw）或捕获（catch）。")]),a._v(" "),s("p",[a._v("Java异常体系分为"),s("code",[a._v("Exception")]),a._v("和"),s("code",[a._v("Error")]),a._v("两大类，都继承了"),s("code",[a._v("Throwable")]),a._v("类。")]),a._v(" "),s("p",[a._v("这种分类体现了Java平台设计者对不同异常情况的分类：")]),a._v(" "),s("ol",[s("li",[s("p",[s("code",[a._v("Exception")]),a._v("是程序正常运行中可以预料的意外情况，可能并且应该被捕获，进行相应处理。")])]),a._v(" "),s("li",[s("p",[a._v("而"),s("code",[a._v("Error")]),a._v("是指在正常情况下不大可能出现的情况。绝大部分的Error都会导致程序处于非正常的、不可恢复状态。这类问题发生，一般不便于也不需要捕获。")])])]),a._v(" "),s("h2",{attrs:{id:"exception的分类"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#exception的分类","aria-hidden":"true"}},[a._v("#")]),a._v(" "),s("code",[a._v("Exception")]),a._v("的分类")]),a._v(" "),s("p",[s("code",[a._v("Exception")]),a._v("又分为"),s("strong",[a._v("检查型异常（checked exception）"),s("strong",[a._v("和")]),a._v("非检查型异常（unchecked exception）")]),a._v("。")]),a._v(" "),s("p",[s("strong",[a._v("检查型异常")]),a._v("在源代码里必须显式地进行捕获处理。它是编译器检查的一部分，因此也常被称为"),s("strong",[a._v("编译时异常")]),a._v("。")]),a._v(" "),s("p",[s("strong",[a._v("非检查型异常")]),a._v("就是所谓的"),s("strong",[a._v("运行时异常")]),a._v("，通常是可以编码避免的逻辑错误，具体根据需要来判断是否需要捕获，并不会在编译器强制要求。")]),a._v(" "),s("h2",{attrs:{id:"exception常见子类"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#exception常见子类","aria-hidden":"true"}},[a._v("#")]),a._v(" "),s("code",[a._v("Exception")]),a._v("常见子类")]),a._v(" "),s("h3",{attrs:{id:"runtimeexception"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#runtimeexception","aria-hidden":"true"}},[a._v("#")]),a._v(" RuntimeException")]),a._v(" "),s("p",[s("code",[a._v("RuntimeException")]),a._v("：运行时异常。")]),a._v(" "),s("p",[a._v("它和它的子类都是"),s("code",[a._v("unchecked exception")]),a._v("，如"),s("code",[a._v("NullPointerException")]),a._v("、"),s("code",[a._v("ClassCastException")]),a._v("和"),s("code",[a._v("IndexOutOfBoundsException")]),a._v("等。")]),a._v(" "),s("h3",{attrs:{id:"ioexception"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ioexception","aria-hidden":"true"}},[a._v("#")]),a._v(" IOException")]),a._v(" "),s("p",[a._v("I/O异常，是由失败或已中断的I/O操作引起的。")]),a._v(" "),s("p",[a._v("它和它的子类都是"),s("code",[a._v("checked exception")]),a._v("。")]),a._v(" "),s("h3",{attrs:{id:"classnotfoundexception"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#classnotfoundexception","aria-hidden":"true"}},[a._v("#")]),a._v(" ClassNotFoundException")]),a._v(" "),s("p",[a._v("当程序"),s("strong",[a._v("在运行期间")]),a._v("尝试通过类名去加载某个类时，若找到该类的定义就会发生这个异常。")]),a._v(" "),s("p",[a._v("此异常是由以下几个方法引起：")]),a._v(" "),s("ol",[s("li",[s("p",[s("code",[a._v("java.lang.Class#forName(java.lang.String)")])])]),a._v(" "),s("li",[s("p",[s("code",[a._v("java.lang.ClassLoader#findSystemClass(java.lang.String)")])])]),a._v(" "),s("li",[s("p",[s("code",[a._v("java.lang.ClassLoader#loadClass(java.lang.String, boolean)")])])])]),a._v(" "),s("p",[a._v("它是"),s("code",[a._v("checked exception")]),a._v("。")]),a._v(" "),s("h2",{attrs:{id:"error常见子类"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#error常见子类","aria-hidden":"true"}},[a._v("#")]),a._v(" "),s("code",[a._v("Error")]),a._v("常见子类")]),a._v(" "),s("h3",{attrs:{id:"noclassdeffounderror"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#noclassdeffounderror","aria-hidden":"true"}},[a._v("#")]),a._v(" NoClassDefFoundError")]),a._v(" "),s("p",[a._v("在JVM或一个ClassLoader实例尝试加载一个类定义时，若无法找到定义就抛出这个错误。")]),a._v(" "),s("p",[a._v("它是在编译时能顺利地找到所需要依赖的类，但"),s("strong",[a._v("在运行时却找不到或可以找到多个")]),a._v("所依赖的类而导致的错误。")]),a._v(" "),s("h2",{attrs:{id:"异常抛出"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#异常抛出","aria-hidden":"true"}},[a._v("#")]),a._v(" 异常抛出")]),a._v(" "),s("p",[a._v("通过"),s("code",[a._v("throw")]),a._v("将一个异常对象抛出。")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[a._v("throw")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),s("span",{attrs:{class:"token class-name"}},[a._v("IllegalArgumentException")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token string"}},[a._v('"参数有误"')]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("在方法定义中通过"),s("code",[a._v("throws")]),a._v("声明此方法可能会抛出的异常。")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("boolean")]),a._v(" "),s("span",{attrs:{class:"token function"}},[a._v("createNewFile")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("throws")]),a._v(" IOException\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"try-catch-finally"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#try-catch-finally","aria-hidden":"true"}},[a._v("#")]),a._v(" try-catch-finally")]),a._v(" "),s("p",[a._v("在"),s("code",[a._v("try")]),a._v("语句块中捕获异常，并在"),s("code",[a._v("catch")]),a._v("语句块中处理异常，在"),s("code",[a._v("finally")]),a._v("语句块中做一些资源回收工作。")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[a._v("try")]),a._v(" "),s("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{attrs:{class:"token comment"}},[a._v("// 业务代码")]),a._v("\n"),s("span",{attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("catch")]),a._v(" "),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token class-name"}},[a._v("IOException")]),a._v(" e"),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{attrs:{class:"token comment"}},[a._v("// 异常处理")]),a._v("\n"),s("span",{attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("finally")]),a._v(" "),s("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{attrs:{class:"token comment"}},[a._v("// 资源回收")]),a._v("\n"),s("span",{attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br")])]),s("h2",{attrs:{id:"try-with-resources"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#try-with-resources","aria-hidden":"true"}},[a._v("#")]),a._v(" try-with-resources")]),a._v(" "),s("p",[s("code",[a._v("try-with-resources")]),a._v("是"),s("strong",[a._v("JDK7")]),a._v("加入的特性，它可以在"),s("code",[a._v("try()")]),a._v("中指定一个或多个资源，而这些资源会在"),s("code",[a._v("try() {}")]),a._v("执行结束时自动关闭。")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("String "),s("span",{attrs:{class:"token function"}},[a._v("readFirstLineFromFile")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),a._v("String path"),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("throws")]),a._v(" IOException "),s("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v("  \n    "),s("span",{attrs:{class:"token keyword"}},[a._v("try")]),a._v(" "),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),a._v("BufferedReader br "),s("span",{attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),s("span",{attrs:{class:"token class-name"}},[a._v("BufferedReader")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),s("span",{attrs:{class:"token class-name"}},[a._v("FileReader")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),a._v("path"),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v("  \n        "),s("span",{attrs:{class:"token keyword"}},[a._v("return")]),a._v(" br"),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{attrs:{class:"token function"}},[a._v("readLine")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[a._v("}")]),a._v("  \n"),s("span",{attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),s("p",[a._v("注意，前提是这些资源必须实现"),s("code",[a._v("java.lang.AutoCloseable")]),a._v("接口。另外，"),s("code",[a._v("java.io.Closeable")]),a._v("接口继承了这个接口，因此"),s("code",[a._v("Closeable")]),a._v("的实现类的实例也可使用"),s("code",[a._v("try-with-resources")]),a._v("。")]),a._v(" "),s("p",[s("code",[a._v("try-with-resources")]),a._v("声明可以像普通的"),s("code",[a._v("try")]),a._v("声明一样同时拥有"),s("code",[a._v("catch")]),a._v("块与"),s("code",[a._v("finally")]),a._v("块，而且任意"),s("code",[a._v("catch")]),a._v("块或者"),s("code",[a._v("finally")]),a._v("块都会在资源关闭后被执行。")]),a._v(" "),s("h2",{attrs:{id:"异常处理技巧"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#异常处理技巧","aria-hidden":"true"}},[a._v("#")]),a._v(" 异常处理技巧")]),a._v(" "),s("p",[a._v("尽量不要捕获类似"),s("code",[a._v("Exception")]),a._v("这样的通用异常，而是应该"),s("strong",[a._v("捕获特定异常")]),a._v("。")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{attrs:{class:"token comment"}},[a._v("/* 错误示范 */")]),a._v("\n"),s("span",{attrs:{class:"token keyword"}},[a._v("try")]),a._v(" "),s("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{attrs:{class:"token comment"}},[a._v("// 业务代码")]),a._v("\n    Thread"),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{attrs:{class:"token function"}},[a._v("sleep")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token number"}},[a._v("1000")]),a._v("L"),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),s("span",{attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("catch")]),a._v(" "),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token class-name"}},[a._v("Exception")]),a._v(" e"),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n"),s("span",{attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])]),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{attrs:{class:"token comment"}},[a._v("/* 正确示范 */")]),a._v("\n"),s("span",{attrs:{class:"token keyword"}},[a._v("try")]),a._v(" "),s("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{attrs:{class:"token comment"}},[a._v("// 业务代码")]),a._v("\n    Thread"),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{attrs:{class:"token function"}},[a._v("sleep")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token number"}},[a._v("1000")]),a._v("L"),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("catch")]),a._v(" "),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token class-name"}},[a._v("InterruptedException")]),a._v(" e"),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n"),s("span",{attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])]),s("p",[a._v("当"),s("code",[a._v("try {}")]),a._v("后跟了多个"),s("code",[a._v("catch {}")]),a._v("时，"),s("strong",[a._v("先捕获小范围的异常")]),a._v("，后捕获大范围的异常。")]),a._v(" "),s("p",[s("strong",[a._v("不要生吞异常")]),a._v("，比如将异常信息打印到标准出错中。应该将异常信息输出到日志中或将异常往上层抛。")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{attrs:{class:"token comment"}},[a._v("/* 错误示范 */")]),a._v("\n"),s("span",{attrs:{class:"token keyword"}},[a._v("try")]),a._v(" "),s("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{attrs:{class:"token comment"}},[a._v("// 业务代码")]),a._v("\n"),s("span",{attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),s("span",{attrs:{class:"token keyword"}},[a._v("catch")]),a._v(" "),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token class-name"}},[a._v("IOException")]),a._v(" e"),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    e"),s("span",{attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{attrs:{class:"token function"}},[a._v("printStackTrace")]),s("span",{attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])]),s("p",[a._v("遵循"),s("code",[a._v("Throw early, catch late")]),a._v("原则。")]),a._v(" "),s("p",[a._v("如果捕获到的异常在当前阶段不便于处理，可以选择保留原有异常的case信息，"),s("strong",[a._v("直接再抛出或构建成新的异常抛出")]),a._v("。随后，在更高的层面，因为有了更清晰的业务逻辑，往往会有更合适的处理异常的方法。")]),a._v(" "),s("h2",{attrs:{id:"自定义异常"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自定义异常","aria-hidden":"true"}},[a._v("#")]),a._v(" 自定义异常")]),a._v(" "),s("p",[a._v("在实际开发中，往往需要根据业务需要自定义异常，此时除了保证"),s("strong",[a._v("提供足够的信息")]),a._v("外，还要考虑几点：")]),a._v(" "),s("ol",[s("li",[s("p",[s("strong",[a._v("是否需要定义为"),s("code",[a._v("checked exception")])]),a._v("。")])]),a._v(" "),s("li",[s("p",[a._v("在保证诊断信息足够的同时，也要考虑"),s("strong",[a._v("避免包含敏感信息")]),a._v("，因为那样可能导致潜在的安全问题。比如Java标准类库中的"),s("code",[a._v("java.net.ConnectException")]),a._v("的出错信息大概是"),s("code",[a._v("Connection refused")]),a._v("，而不会包含具体的Host、IP、Port等信息。")])])]),a._v(" "),s("h2",{attrs:{id:"性能问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#性能问题","aria-hidden":"true"}},[a._v("#")]),a._v(" 性能问题")]),a._v(" "),s("p",[s("code",[a._v("try-catch")]),a._v("代码段会产生额外的性能开销，它往往会影响JVM对代码进行优化，所以建议仅捕获有必要的代码段，尽量不要一个大"),s("code",[a._v("try-catch")]),a._v("包住整段代码。")]),a._v(" "),s("p",[a._v("Java每实例化一个"),s("code",[a._v("Exception")]),a._v("，都会对当时的栈进行快照。")])])}],!1,null,null,null);e.options.__file="Java异常.md";t.default=e.exports}}]);